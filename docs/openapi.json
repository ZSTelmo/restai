{"openapi": "3.1.0", "info": {"title": "RestAI", "description": "Modular REST API bootstrap on top of LangChain. Create embeddings associated with a project tenant and interact using a LLM. RAG as a service.", "version": "3.3.0"}, "paths": {"/": {"get": {"summary": "Get", "operationId": "get__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/info": {"get": {"summary": "Get Info", "operationId": "get_info_info_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}, "security": [{"HTTPBasic": []}]}}, "/users/{username}": {"get": {"summary": "Get User", "operationId": "get_user_users__username__get", "security": [{"HTTPBasic": []}], "parameters": [{"name": "username", "in": "path", "required": true, "schema": {"type": "string", "title": "Username"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/User"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"summary": "Update User", "operationId": "update_user_users__username__patch", "security": [{"HTTPBasic": []}], "parameters": [{"name": "username", "in": "path", "required": true, "schema": {"type": "string", "title": "Username"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/User"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete User", "operationId": "delete_user_users__username__delete", "security": [{"HTTPBasic": []}], "parameters": [{"name": "username", "in": "path", "required": true, "schema": {"type": "string", "title": "Username"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users": {"get": {"summary": "Get Users", "operationId": "get_users_users_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/User"}, "type": "array", "title": "Response Get Users Users Get"}}}}}, "security": [{"HTTPBasic": []}]}, "post": {"summary": "Create User", "operationId": "create_user_users_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/User"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBasic": []}]}}, "/hardware": {"get": {"summary": "Get Hardware Info", "operationId": "get_hardware_info_hardware_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HardwareInfo"}}}}}, "security": [{"HTTPBasic": []}]}}, "/projects": {"get": {"summary": "Get Projects", "operationId": "get_projects_projects_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/ProjectModel"}, "type": "array", "title": "Response Get Projects Projects Get"}}}}}, "security": [{"HTTPBasic": []}]}, "post": {"summary": "Create Project", "operationId": "create_project_projects_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ProjectModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBasic": []}]}}, "/projects/{projectName}": {"get": {"summary": "Get Project", "operationId": "get_project_projects__projectName__get", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ProjectInfo"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete Project", "operationId": "delete_project_projects__projectName__delete", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"summary": "Edit Project", "operationId": "edit_project_projects__projectName__patch", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ProjectModelUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings/reset": {"post": {"summary": "Reset Embeddings", "operationId": "reset_embeddings_projects__projectName__embeddings_reset_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings/search": {"post": {"summary": "Find Embedding", "operationId": "find_embedding_projects__projectName__embeddings_search_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FindModel"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings/{source}": {"get": {"summary": "Get Embedding", "operationId": "get_embedding_projects__projectName__embeddings__source__get", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}, {"name": "source", "in": "path", "required": true, "schema": {"type": "string", "title": "Source"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete Embedding", "operationId": "delete_embedding_projects__projectName__embeddings__source__delete", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}, {"name": "source", "in": "path", "required": true, "schema": {"type": "string", "title": "Source"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings/ingest/text": {"post": {"summary": "Ingest Text", "operationId": "ingest_text_projects__projectName__embeddings_ingest_text_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TextIngestModel"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IngestResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings/ingest/url": {"post": {"summary": "Ingest Url", "operationId": "ingest_url_projects__projectName__embeddings_ingest_url_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/URLIngestModel"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IngestResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings/ingest/upload": {"post": {"summary": "Ingest File", "operationId": "ingest_file_projects__projectName__embeddings_ingest_upload_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_ingest_file_projects__projectName__embeddings_ingest_upload_post"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IngestResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/embeddings": {"get": {"summary": "Get Embeddings", "operationId": "get_embeddings_projects__projectName__embeddings_get", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/vision": {"post": {"summary": "Vision Query", "operationId": "vision_query_projects__projectName__vision_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/VisionModel"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QuestionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/question": {"post": {"summary": "Question Query", "operationId": "question_query_projects__projectName__question_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QuestionModel"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/QuestionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/projects/{projectName}/chat": {"post": {"summary": "Chat Query", "operationId": "chat_query_projects__projectName__chat_post", "security": [{"HTTPBasic": []}], "parameters": [{"name": "projectName", "in": "path", "required": true, "schema": {"type": "string", "title": "Projectname"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatModel"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"Body_ingest_file_projects__projectName__embeddings_ingest_upload_post": {"properties": {"file": {"type": "string", "format": "binary", "title": "File"}, "options": {"type": "string", "title": "Options", "default": "{}"}}, "type": "object", "required": ["file"], "title": "Body_ingest_file_projects__projectName__embeddings_ingest_upload_post"}, "ChatModel": {"properties": {"score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Score"}, "k": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "K"}, "question": {"type": "string", "title": "Question"}, "id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}}, "type": "object", "required": ["question"], "title": "ChatModel"}, "ChatResponse": {"properties": {"question": {"type": "string", "title": "Question"}, "answer": {"type": "string", "title": "Answer"}, "image": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Image"}, "type": {"type": "string", "title": "Type"}, "sources": {"items": {"$ref": "#/components/schemas/SourceModel"}, "type": "array", "title": "Sources"}, "id": {"type": "string", "title": "Id"}}, "type": "object", "required": ["question", "answer", "type", "sources", "id"], "title": "ChatResponse"}, "FindModel": {"properties": {"source": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Source", "default": [null]}, "text": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Text"}, "score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Score"}, "k": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "K"}}, "type": "object", "title": "FindModel"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "HardwareInfo": {"properties": {"cpu_load": {"type": "number", "title": "Cpu Load"}, "ram_usage": {"type": "number", "title": "Ram Usage"}, "gpu_load": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Gpu Load"}, "gpu_temp": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Gpu Temp"}, "gpu_ram_usage": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Gpu Ram Usage"}, "models_vram": {"items": {"type": "string"}, "type": "array", "title": "Models Vram"}}, "type": "object", "required": ["cpu_load", "ram_usage"], "title": "HardwareInfo"}, "IngestResponse": {"properties": {"source": {"type": "string", "title": "Source"}, "documents": {"type": "integer", "title": "Documents"}}, "type": "object", "required": ["source", "documents"], "title": "IngestResponse"}, "ProjectInfo": {"properties": {"name": {"type": "string", "title": "Name"}, "embeddings": {"type": "string", "title": "Embeddings"}, "llm": {"type": "string", "title": "Llm"}, "system": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "System"}, "sandboxed": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Sandboxed"}, "censorship": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Censorship"}, "score": {"type": "number", "title": "Score", "default": 0.2}, "k": {"type": "integer", "title": "K", "default": 1}, "sandbox_project": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sandbox Project"}, "llm_type": {"type": "string", "title": "Llm Type"}, "llm_privacy": {"type": "string", "title": "Llm Privacy"}, "vectorstore": {"type": "string", "title": "Vectorstore", "default": "chroma"}, "documents": {"type": "integer", "title": "Documents", "default": 0}, "metadatas": {"type": "integer", "title": "Metadatas", "default": 0}}, "type": "object", "required": ["name", "embeddings", "llm", "llm_type", "llm_privacy"], "title": "ProjectInfo"}, "ProjectModel": {"properties": {"name": {"type": "string", "title": "Name"}, "embeddings": {"type": "string", "title": "Embeddings"}, "llm": {"type": "string", "title": "Llm"}, "system": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "System"}, "sandboxed": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Sandboxed"}, "censorship": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Censorship"}, "score": {"type": "number", "title": "Score", "default": 0.2}, "k": {"type": "integer", "title": "K", "default": 1}, "sandbox_project": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sandbox Project"}, "llm_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Llm Type"}, "llm_privacy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Llm Privacy"}, "vectorstore": {"type": "string", "title": "Vectorstore", "default": "chroma"}}, "type": "object", "required": ["name", "embeddings", "llm"], "title": "ProjectModel"}, "ProjectModelUpdate": {"properties": {"embeddings": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Embeddings"}, "llm": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Llm"}, "system": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "System"}, "sandboxed": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Sandboxed"}, "censorship": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Censorship"}, "score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Score"}, "k": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "K"}, "sandbox_project": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sandbox Project"}}, "type": "object", "title": "ProjectModelUpdate"}, "QuestionModel": {"properties": {"score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Score"}, "k": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "K"}, "question": {"type": "string", "title": "Question"}, "system": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "System"}}, "type": "object", "required": ["question"], "title": "QuestionModel"}, "QuestionResponse": {"properties": {"question": {"type": "string", "title": "Question"}, "answer": {"type": "string", "title": "Answer"}, "image": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Image"}, "type": {"type": "string", "title": "Type"}, "sources": {"items": {"$ref": "#/components/schemas/SourceModel"}, "type": "array", "title": "Sources"}}, "type": "object", "required": ["question", "answer", "type", "sources"], "title": "QuestionResponse"}, "SourceModel": {"properties": {"source": {"type": "string", "title": "Source"}, "content": {"type": "string", "title": "Content"}, "keywords": {"type": "string", "title": "Keywords"}}, "type": "object", "required": ["source", "content", "keywords"], "title": "SourceModel"}, "TextIngestModel": {"properties": {"text": {"type": "string", "title": "Text"}, "source": {"type": "string", "title": "Source"}, "keywords": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Keywords"}}, "type": "object", "required": ["text", "source"], "title": "TextIngestModel"}, "URLIngestModel": {"properties": {"url": {"type": "string", "title": "Url"}}, "type": "object", "required": ["url"], "title": "URLIngestModel"}, "User": {"properties": {"id": {"type": "integer", "title": "Id"}, "username": {"type": "string", "title": "Username"}, "is_admin": {"type": "boolean", "title": "Is Admin", "default": false}, "is_private": {"type": "boolean", "title": "Is Private", "default": false}, "projects": {"items": {"$ref": "#/components/schemas/UserProject"}, "type": "array", "title": "Projects", "default": []}}, "type": "object", "required": ["id", "username"], "title": "User"}, "UserCreate": {"properties": {"username": {"type": "string", "title": "Username"}, "password": {"type": "string", "title": "Password"}, "is_admin": {"type": "boolean", "title": "Is Admin", "default": false}, "is_private": {"type": "boolean", "title": "Is Private", "default": false}}, "type": "object", "required": ["username", "password"], "title": "UserCreate"}, "UserProject": {"properties": {"name": {"type": "string", "title": "Name"}}, "type": "object", "required": ["name"], "title": "UserProject"}, "UserUpdate": {"properties": {"password": {"type": "string", "title": "Password"}, "is_admin": {"type": "boolean", "title": "Is Admin"}, "is_private": {"type": "boolean", "title": "Is Private"}, "projects": {"items": {"type": "string"}, "type": "array", "title": "Projects"}}, "type": "object", "title": "UserUpdate"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "VisionModel": {"properties": {"question": {"type": "string", "title": "Question"}, "image": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Image"}}, "type": "object", "required": ["question"], "title": "VisionModel"}}, "securitySchemes": {"HTTPBasic": {"type": "http", "scheme": "basic"}}}}